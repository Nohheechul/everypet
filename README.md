# 🐶EveryPet (팀 프로젝트)

## 👥 팀원

### 🔥 <span style="color:#3CB371; font-family: 'Comic Sans MS', cursive, sans-serif;">[Back end] 이용호</span>

### ⭐️ <span style="color:#FFA500; font-family: 'Comic Sans MS', cursive, sans-serif;">[Back end] 노희철</span>

### 🌑 <span style="color:#9400D3; font-family: 'Comic Sans MS', cursive, sans-serif;">[Front end] 총괄 이관용</span>

### ⚡️ <span style="color:#FF6347; font-family: 'Comic Sans MS', cursive, sans-serif;">[Front end] 대표 박민규</span>

## 🌐 **Every-Pet 사이트 링크**
[✨ **우리들의 Every-Pet 바로가기**](https://everypet.netlify.app/)
(backend 서버는 정지)

## 🛠️ 기술스택

| Category   | Technologies and Tools                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| ---------- |-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Language   | ![Java](https://img.shields.io/badge/Java-007396?style=for-the-badge&logo=java&logoColor=white) ![JavaScript](https://img.shields.io/badge/JavaScript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black) ![TypeScript](https://img.shields.io/badge/TypeScript-3178C6?style=for-the-badge&logo=typescript&logoColor=white) ![HTML5](https://img.shields.io/badge/HTML5-E34F26?style=for-the-badge&logo=html5&logoColor=white) ![CSS3](https://img.shields.io/badge/CSS3-1572B6?style=for-the-badge&logo=css3&logoColor=white) ![React](https://img.shields.io/badge/React-61DAFB?style=for-the-badge&logo=react&logoColor=white)                                                                                                                                                             |
| IDE        | ![IntelliJ IDEA](https://img.shields.io/badge/IntelliJ_IDEA-000000?style=for-the-badge&logo=intellij-idea&logoColor=white) ![Visual Studio Code](https://img.shields.io/badge/Visual_Studio_Code-007ACC?style=for-the-badge&logo=visual-studio-code&logoColor=white)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Framework  | ![Spring Framework](https://img.shields.io/badge/Spring_Framework-6DB33F?style=for-the-badge&logo=spring&logoColor=white) ![MyBatis](https://img.shields.io/badge/MyBatis-339933?style=for-the-badge&logo=mybatis&logoColor=white)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Build Tool | ![Apache Maven](https://img.shields.io/badge/Apache_Maven-C71A36?style=for-the-badge&logo=apache-maven&logoColor=white) ![npm](https://img.shields.io/badge/npm-CB3837?style=for-the-badge&logo=npm&logoColor=white)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Database   | ![MySQL](https://img.shields.io/badge/MySQL-4479A1?style=for-the-badge&logo=mysql&logoColor=white) ![Redis](https://img.shields.io/badge/Redis-DC382D?style=for-the-badge&logo=redis&logoColor=white)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| Frontend   | ![React](https://img.shields.io/badge/React-61DAFB?style=for-the-badge&logo=react&logoColor=white) ![HTML5](https://img.shields.io/badge/HTML5-E34F26?style=for-the-badge&logo=html5&logoColor=white) ![CSS3](https://img.shields.io/badge/CSS3-1572B6?style=for-the-badge&logo=css3&logoColor=white) ![JavaScript](https://img.shields.io/badge/JavaScript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black) ![TypeScript](https://img.shields.io/badge/TypeScript-3178C6?style=for-the-badge&logo=typescript&logoColor=white)                                                                                                                                                                                                                                                             |
| Library    | ![JWT](https://img.shields.io/badge/JWT-000000?style=for-the-badge&logo=JSON%20web%20tokens&logoColor=white) ![Spring Security](https://img.shields.io/badge/Spring_Security-6DB33F?style=for-the-badge&logo=spring-security&logoColor=white) ![Swagger](https://img.shields.io/badge/Swagger-85EA2D?style=for-the-badge&logo=swagger&logoColor=black) ![OAuth2](https://img.shields.io/badge/OAuth2-2E86C1?style=for-the-badge&logo=oauth&logoColor=white) ![Redux](https://img.shields.io/badge/Redux-764ABC?style=for-the-badge&logo=redux&logoColor=white)                                                                                                                                                                                                                                        |
| Server     | ![Apache Tomcat](https://img.shields.io/badge/Apache_Tomcat-F8DC75?style=for-the-badge&logo=apache-tomcat&logoColor=black)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Tool       | ![Docker](https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=docker&logoColor=white) ![GitHub](https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=github&logoColor=white) ![Storybook](https://img.shields.io/badge/Storybook-FF4785?style=for-the-badge&logo=storybook&logoColor=white) ![Google Cloud](https://img.shields.io/badge/Google_Cloud-4285F4?style=for-the-badge&logo=google-cloud&logoColor=white) ![Asana](https://img.shields.io/badge/Asana-27384D?style=for-the-badge&logo=asana&logoColor=white) ![GitHub Actions](https://img.shields.io/badge/GitHub_Actions-2088FF?style=for-the-badge&logo=github-actions&logoColor=white) ![AWS](https://img.shields.io/badge/amazon_web_services-232F3E?style=for-the-badge&logo=github-actions&logoColor=white) |


# 내가 만든 기능

## 회원 기능
- **로그인/회원가입/메일 인증/회원정보 수정/비밀번호 변경/비밀번호 찾기/아이디 찾기/임시 비밀번호 발급**

## 마이페이지 기능
- **회원정보 수정/회원탈퇴**

## 상품 기능
- **상품 조회/장바구니/상품 리뷰/판매자 문의**
  - **상품 조회:** 다양한 조건(카테고리, 브랜드, 키워드 등)에 따라 상품을 조회합니다.
    - **카테고리 별 조회:** 대분류와 소분류에 따라 상품을 조회합니다.
    - **브랜드 별 조회:** 특정 브랜드에 속한 상품을 조회합니다.
    - **키워드 검색:** 사용자가 입력한 키워드에 해당하는 상품을 조회합니다.
    - **단일 상품 조회:** 특정 상품 ID에 해당하는 상품을 조회합니다.

## 검색 기능
- **실시간 검색어 순위/상품 검색**

## 주문 기능
- **주문 생성/주문 삭제/주문 조회 및 상세 조회/운송장 번호 추가**

## 결제 기능
- **결제 상태 조회/결제 검증 및 주문 상태 업데이트/결제 정보 저장**

## 광고 기능
- **광고 생성/광고 삭제/광고 수정/광고 조회**

## 기술적 특징
- **Google Cloud Storage 사용:** 이미지 업로드 및 삭제를 Google Cloud Storage를 통해 처리하여 확장성과 안정성을 높였습니다.
- **MyBatis 사용:** SQL 쿼리를 XML 파일로 관리하여 데이터베이스와의 상호작용을 효율적으로 처리합니다.
- **Lombok 사용:** 코드의 반복적인 부분을 줄여 개발 효율성을 높였습니다.

## 성과 및 기대효과
- **성과:** 다양한 기능을 통해 사용자 친화적인 인터페이스와 효율적인 데이터 처리를 제공하여 사용자 만족도를 높였습니다.
- **기대효과:** 향후 확장성과 유지보수성을 고려한 설계로, 다양한 기능 추가 및 확장이 가능합니다.

# 기능 자세히 보기

<details>
<summary>주문 기능</summary>
<div markdown="1">

### 1. 주문 생성
**기능 설명:** 사용자가 주문을 생성할 수 있는 기능을 제공합니다. 주문 정보는 `InsertOrderDTO`를 통해 전달되며, 주문 상세 정보는 `OrderDetailMapper`를 통해 저장됩니다.

**기술적 설명:**
- `OrderServiceImpl`의 `insertOrder` 메서드는 `InsertOrderDTO`를 받아 주문 정보를 처리합니다. 주문 상품의 가격을 조회하고 총 금액을 계산합니다.
- `OrderMapper`의 `insertOrder` 메서드를 통해 주문 정보를 데이터베이스에 저장합니다.
- `OrderDetailMapper`의 `insertOrderDetail` 메서드를 통해 주문 상세 정보를 저장합니다.

### 2. 주문 삭제
**기능 설명:** 특정 주문 ID에 해당하는 주문을 삭제할 수 있는 기능을 제공합니다.

**기술적 설명:**
- `OrderServiceImpl`의 `deleteOrder` 메서드는 주어진 `orderId`를 통해 주문 정보를 삭제합니다.
- 먼저 `OrderDetailMapper`의 `deleteOrderDetailByOrderId` 메서드를 통해 관련된 주문 상세 정보를 삭제합니다.
- 이후 `OrderMapper`의 `deleteOrderByOrderId` 메서드를 통해 주문 정보를 삭제합니다.

### 3. 주문 조회 및 상세 조회
**기능 설명:** 특정 주문 ID에 해당하는 주문을 조회하거나, 주문 상세 ID에 해당하는 주문 상세 정보를 조회할 수 있는 기능을 제공합니다.

**기술적 설명:**
- **주문 조회:**
  - `OrderServiceImpl`의 `selectOrder` 메서드는 주어진 `orderId`를 통해 주문 정보를 조회합니다.
  - `OrderMapper`의 `selectOrderById` 메서드를 통해 주문 정보를 가져옵니다.
  - `OrderDetailMapper`의 `selectOrderDetailsByOrderId` 메서드를 통해 관련된 주문 상세 정보를 가져와 주문 객체에 추가합니다.

- **주문 상세 조회:**
  - `OrderServiceImpl`의 `getOrderDetail` 메서드는 주어진 `orderDetailId`를 통해 주문 상세 정보를 조회합니다.
  - `OrderDetailMapper`의 `getOrderDetailByOrderDetailId` 메서드를 통해 주문 상세 정보를 가져옵니다.

### 4. 운송장 번호 추가
**기능 설명:** 판매자가 주문 상세 ID와 운송장 번호를 입력하여 운송장 번호를 추가할 수 있는 기능을 제공합니다.

**기술적 설명:**
- `OrderServiceImpl`의 `updateTrackingNumber` 메서드는 판매자 인증 후, 운송장 번호를 업데이트합니다.
- 먼저 `OrderDetailMapper`의 `checkSeller` 메서드를 통해 해당 상품의 판매자인지 확인합니다.
- 판매자일 경우, `OrderDetailMapper`의 `updateTrackingNumber` 메서드를 통해 운송장 번호를 업데이트합니다.

</div>
</details>


<p>

<details>
<summary>결제 기능</summary>
<div markdown="1">

### 1. 결제 상태 조회
**기능 설명:** 포트원 결제 API를 호출하여 결제 상태를 조회합니다.

**기술적 설명:**
- `PaymentServiceImpl`의 `getPaymentStatus` 메서드는 포트원 결제 API를 호출하여 결제 상태를 조회합니다.
- 결제 상태는 `PaymentResponse` 객체로 반환되며, 상태에 따라 주문 처리가 진행됩니다.

### 2. 결제 검증 및 주문 상태 업데이트
**기능 설명:** 결제 검증 후, 주문 상태를 업데이트합니다.

**기술적 설명:**
- `PaymentController`의 `completePayment` 메서드는 결제 검증 후, 주문 상태를 업데이트합니다.
- 결제 금액이 주문 금액과 일치할 경우, 주문 상태를 "PAID"로 업데이트하고 장바구니를 삭제합니다.
- 결제 금액이 불일치할 경우, 주문은 삭제됩니다.

### 3. 결제 정보 저장
**기능 설명:** 결제 정보를 데이터베이스에 저장합니다.

**기술적 설명:**
- 결제 정보는 `PaymentMapper`를 통해 데이터베이스에 저장됩니다.
- `PaymentServiceImpl`의 `insertPayment` 메서드는 결제 정보를 저장합니다.

</div>
</details>

<details>
<summary>광고 기능</summary>
<div markdown="1">

### 1. 광고 생성
**기능 설명:** 새로운 광고를 생성합니다.

**기술적 설명:**
- `AdvertisementServiceImpl`의 `insertAdvertisement` 메서드는 광고 정보를 처리하고, Google Cloud Storage에 이미지를 업로드합니다.

### 2. 광고 삭제
**기능 설명:** 특정 광고를 삭제합니다.

**기술적 설명:**
- `AdvertisementServiceImpl`의 `deleteAdvertisement` 메서드는 주어진 `advertisementId`를 통해 광고 정보를 삭제하고, 관련된 이미지를 삭제합니다.

### 3. 광고 수정
**기능 설명:** 기존 광고를 수정합니다.

**기술적 설명:**
- `AdvertisementServiceImpl`의 `updateAdvertisement` 메서드는 광고 정보를 수정하고, 이미지를 업데이트합니다.

### 4. 광고 조회
**기능 설명:** 모든 광고 또는 특정 광고를 조회합니다.

**기술적 설명:**
- `AdvertisementServiceImpl`의 `selectAllAdvertisements` 메서드는 모든 광고를 조회하고, `selectAdvertisementById` 메서드는 특정 광고를 조회합니다.

</div>
</details>

<details>
<summary>상품 기능</summary>
<div markdown="1">

### 1. 상품 생성
**기능 설명:** 새로운 상품을 생성합니다.

**기술적 설명:**
- `ProductServiceImpl`의 `insertProduct` 메서드는 상품 정보를 처리하고, Google Cloud Storage에 이미지를 업로드합니다.

### 2. 상품 삭제
**기능 설명:** 특정 상품을 삭제합니다.

**기술적 설명:**
- `ProductServiceImpl`의 `deleteProduct` 메서드는 주어진 `productId`를 통해 상품 정보를 삭제하고, 관련된 이미지를 삭제합니다.

### 3. 상품 수정
**기능 설명:** 기존 상품을 수정합니다.

**기술적 설명:**
- `ProductServiceImpl`의 `updateProduct` 메서드는 상품 정보를 수정하고, 이미지를 업데이트합니다.

### 4. 상품 조회
**기능 설명:** 다양한 조건에 따라 상품을 조회합니다.

**기술적 설명:**
- `ProductServiceImpl`의 `selectProductList` 메서드는 카테고리와 정렬 기준에 따라 상품을 조회하고, `selectProductByProductId` 메서드는 특정 상품을 조회합니다.

#### 상품 조회의 다양한 상황
##### 1. 카테고리 별 상품 조회
**기능 설명:** 대분류와 소분류에 따라 상품을 조회합니다. 예를 들어, 대분류가 "dog"이고 소분류가 "snack"인 경우, 강아지용 스낵 상품만 조회됩니다.

**기술적 설명:**
- `ProductController`의 `selectProductCategory` 메서드는 카테고리 대분류, 소분류, 정렬 기준, 페이지 번호, 페이지 사이즈를 받아 상품 리스트를 조회합니다.
- `ProductService`의 `selectProductList` 메서드는 MyBatis를 통해 데이터베이스에서 해당 조건에 맞는 상품 리스트를 가져옵니다.

##### 2. 브랜드 별 상품 조회
**기능 설명:** 특정 브랜드에 속한 상품을 조회합니다. 예를 들어, "동물 좋아 상점" 브랜드의 상품만 조회할 수 있습니다.

**기술적 설명:**
- `ProductController`의 `selectProductBrand` 메서드는 브랜드명, 정렬 기준, 페이지 번호, 페이지 사이즈를 받아 상품 리스트를 조회합니다.
- `ProductService`의 `selectProductBrandList` 메서드는 MyBatis를 통해 데이터베이스에서 해당 브랜드에 속한 상품 리스트를 가져옵니다.

##### 3. 키워드 검색 상품 조회
**기능 설명:** 사용자가 입력한 키워드에 해당하는 상품을 조회합니다. 예를 들어, "고양이 사료"라는 키워드로 검색하면 관련된 상품이 조회됩니다.

**기술적 설명:**
- `ProductController`의 `searchProducts` 메서드는 키워드, 정렬 기준, 페이지 번호, 페이지 사이즈를 받아 상품 리스트를 조회합니다.
- `ProductService`의 `selectProductListByKeyword` 메서드는 MyBatis를 통해 데이터베이스에서 해당 키워드에 맞는 상품 리스트를 가져옵니다.

##### 4. 단일 상품 조회
**기능 설명:** 특정 상품 ID에 해당하는 상품을 조회합니다.

**기술적 설명:**
- `ProductController`의 `selectProductByProductId` 메서드는 상품 ID를 받아 해당 상품을 조회합니다.
- `ProductService`의 `selectProductByProductId` 메서드는 MyBatis를 통해 데이터베이스에서 해당 상품 ID에 맞는 상품 정보를 가져옵니다.

</div>
</details>


## 📖 ERD 다이어그램

![EveryPet](https://github.com/user-attachments/assets/03bb1e70-ae8e-4a3e-a37a-b64465dc505b)
